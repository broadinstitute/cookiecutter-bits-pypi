---
name: 'pr-checks'

'on':
  pull_request:
    branches: ['*']

jobs:
  pre-commit:
    runs-on: 'ubuntu-latest'

    steps:
      - name: 'Checkout repo'
        uses: 'actions/checkout@v4'

      - name: 'Git setup'
        run: |
          git fetch --no-tags --prune origin +refs/heads/*:refs/remotes/origin/*
          git checkout ${{ github.base_ref }}
          git checkout ${{ github.head_ref }}

      - name: 'Set up Python 3.11'
        uses: 'actions/setup-python@v4'
        with:
          python-version: '3.11'

      - name: 'Install pre-commit'
        run: 'pip install pre-commit'

      - name: 'Run pre-commit'
        uses: 'pre-commit/action@v3.0.0'
        with:
          extra_args: '--from-ref ${{ github.base_ref }} --to-ref ${{ github.head_ref }}'
